{{ if eq .chezmoi.os "darwin" -}}
# Homebrew (path, infopath, manpath)
if [[ -x "/opt/homebrew/bin/brew" ]] ; then
  brew="/opt/homebrew/bin/brew"
elif [[ -x "/usr/local/bin/brew" ]] ; then
  brew="/opt/homebrew/bin/brew"
fi
if [[ -n "$brew" ]] ; then
  eval "$($brew shellenv)"
fi
{{- end }}

# PATH - items inserted in front later on will take precedence
typeset -U path PATH

[[ -x "${HOME}/go/bin" ]] && path=("${HOME}/go/bin" $path)
[[ -x /opt/android-platform-tools ]] && path+=("/opt/android-platform-tools")
path=($HOME/.local/bin $path)

export path PATH

# FPATH
typeset -U fpath FPATH

{{ if eq .chezmoi.os "darwin" -}}
fpath+=("$(brew --prefix)/share/zsh/functions")
fpath+=("$(brew --prefix)/share/zsh/site-functions")
{{- end }}

# Custom functions
fpath+=($ZDOTDIR/.zfunctions)

export fpath FPATH

{{ $pyenvPath := lookPath "pyenv" -}}
{{ if $pyenvPath -}}
# pyenv
eval "$(pyenv init - && pyenv init --path && pyenv virtualenv-init -)"
{{ end -}}
