{{- $gpg_fingerprint_1 := get . "gpg_fingerprint_1" -}}{{- if not $gpg_fingerprint_1 -}}
{{-     $gpg_fingerprint_1 = promptString "GPG Fingerprint for chezmoi to encrypt to (1)" -}}
{{- end -}}
{{- $gpg_fingerprint_2 := get . "gpg_fingerprint_2" -}}{{- if not $gpg_fingerprint_2 -}}
{{-     $gpg_fingerprint_2 = promptString "GPG Fingerprint for chezmoi to encrypt to (2)" -}}
{{- end -}}
diff:
  command: delta

encryption: gpg

gpg:
  recipients:
    - {{ $gpg_fingerprint_1 }}
    - {{ $gpg_fingerprint_2 }}
  args:
    - "--quiet"

pinentry:
  command: {{ if eq .chezmoi.os "linux" -}}
{{ .chezmoi.homeDir }}/.gnupg/.pinentry
{{- else if eq .chezmoi.os "darwin" -}}
{{ if eq .chezmoi.arch "arm64" -}}
/opt/homebrew/bin/pinentry-mac
{{- else -}}
/usr/local/bin/pinentry-mac
{{- end }}
{{- end }}
